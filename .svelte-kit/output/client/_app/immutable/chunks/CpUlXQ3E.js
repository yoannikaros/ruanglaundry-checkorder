import{t as p,h as o,v as g,E as v,w as h,H as y,x as E,y as T,z as b,A as m,B as A,C as _,D as N,l as S,F as R}from"./t_wk_9ky.js";import{B as w}from"./_Ssj5rt6.js";import{s as x,g as B}from"./BqEt7gUp.js";function C(e,r,a=!1){o&&g();var s=new w(e),i=a?v:0;function u(n,t){if(o){const d=h(e)===y;if(n===d){var f=E();T(f),s.anchor=f,b(!1),s.ensure(n,t),b(!0);return}}s.ensure(n,t)}p(()=>{var n=!1;r((t,f=!0)=>{n=!0,u(f,t)}),n||u(!1,null)},i)}let l=!1,c=Symbol();function H(e,r,a){const s=a[r]??(a[r]={store:null,source:N(void 0),unsubscribe:_});if(s.store!==e&&!(c in a))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=_;else{var i=!0;s.unsubscribe=x(e,u=>{i?s.source.v=u:R(s.source,u)}),i=!1}return e&&c in a?B(e):S(s.source)}function I(){const e={};function r(){m(()=>{for(var a in e)e[a].unsubscribe();A(e,c,{enumerable:!1,value:!0})})}return[e,r]}function M(e){var r=l;try{return l=!1,[e(),l]}finally{l=r}}export{H as a,M as c,C as i,I as s};
